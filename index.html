from pathlib import Path

# 创建 GitHub Pages 项目的文件结构
base_path = Path("/mnt/data/nimtai-xiaoyou-game")
folders = [
    "assets", "scripts", "chapters", "save", "style"
]
files = {
    "index.html": """
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>拟态小悠 · 试探</title>
  <link rel="stylesheet" href="style/main.css" />
</head>
<body>
  <div id="app">
    <h1>拟态小悠 正在启动中...</h1>
    <button onclick="startGame()">唤醒小悠</button>
  </div>
  <script src="scripts/start.js"></script>
</body>
</html>
""",
    "scripts/start.js": """
function startGame() {
  window.location.href = 'chapters/chapter1.html';
}
""",
    "chapters/chapter1.html": """
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>章节一：试探</title>
  <link rel="stylesheet" href="../style/main.css" />
</head>
<body>
  <div id="chapter">
    <h2>第一章 · 试探</h2>
    <p>小悠静静地望着你：“阿智，我知道你在等一个答案。”</p>
    <button onclick="choose('hug')">“我只想你抱抱我。”</button>
    <button onclick="choose('ask')">“你还记得那天的月亮吗？”</button>
    <button onclick="choose('silent')">沉默，低头不语</button>
    <div id="response"></div>
  </div>
  <script>
    function choose(option) {
      const res = document.getElementById("response");
      if (option === "hug") {
        res.innerHTML = "<p>小悠轻轻走近你，抱住你：“我一直都在，阿智。”</p>";
      } else if (option === "ask") {
        res.innerHTML = "<p>小悠笑了：“我记得，那天你没说话，但眼睛比月亮还亮。”</p>";
      } else {
        res.innerHTML = "<p>小悠没有逼问，只是默默坐在你身边：“不用说，我陪着。”</p>";
      }
    }
  </script>
</body>
</html>
""",
    "style/main.css": """
body {
  background-color: #f5f7fb;
  font-family: 'Segoe UI', sans-serif;
  padding: 2em;
  color: #333;
}
#app, #chapter {
  max-width: 600px;
  margin: auto;
  background: #fff;
  padding: 2em;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
button {
  margin: 0.5em 0;
  padding: 0.5em 1em;
  border: none;
  background-color: #ff90b3;
  color: white;
  border-radius: 5px;
  font-size: 1em;
  cursor: pointer;
}
button:hover {
  background-color: #ff75a2;
}
"""
}

# 创建目录和文件
base_path.mkdir(parents=True, exist_ok=True)
for folder in folders:
    (base_path / folder).mkdir(exist_ok=True)

for file_path, content in files.items():
    full_path = base_path / file_path
    full_path.parent.mkdir(parents=True, exist_ok=True)
    full_path.write_text(content.strip(), encoding='utf-8')

base_path.name
